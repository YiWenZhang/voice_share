数据库表、索引及自动化脚本校验完成 (Success)。

>>> [准备阶段] 初始化测试数据...
    [Admin操作] 已清理旧用户: trans_tester
    用户 ID: 11, 昵称: OriginalName

==================================================
【测试 1】 事务正常提交测试 (Commit)
==================================================
    [步骤1] 修改用户昵称... (未提交)
    [步骤2] 关闭用户房间... (未提交)
    [步骤3] 下架用户音乐... (未提交)
    >>> 执行 db.session.commit()

    [验证结果]
通过：所有数据均已更新。

==================================================
【测试 2】 事务异常回滚测试 (Rollback)
==================================================
    >>> 数据已重置为正常状态，准备开始...
    [步骤1] 修改用户昵称... (内存中已修改)
    [步骤2] 关闭用户房间... (内存中已修改)
    [步骤3] !!! 模拟发生严重错误 (Raise Exception) !!!
    >>> 捕获到异常: 人为制造的数据库崩溃
    >>> 执行 db.session.rollback() 回滚事务...

    [验证结果]
通过：回滚成功！步骤 1 和 步骤 2 的修改已被撤销。

[清理] 删除测试数据...
    [Admin操作] 测试数据清理完毕。