{% extends "admin/dashboard.html" %}
{% set active_page = 'insights' %}

{% block admin_main %}
<div class="module-header">
  <div class="module-title">
    <h1>
      <i class="ri-pie-chart-2-fill" style="color: #a855f7;"></i> 数据洞察中心
    </h1>
    <p>全平台核心业务数据视图聚合与监控</p>
  </div>
  <div class="header-status">
    <span style="background: rgba(243, 232, 255, 0.6); color: #7e22ce; padding: 0.6rem 1.2rem; border-radius: 99px; font-weight: 600; font-size: 0.9rem; border: 1px solid rgba(168, 85, 247, 0.1);">
      <i class="ri-eye-line" style="margin-right: 4px;"></i> 实时视图 (Real-time Views)
    </span>
  </div>
</div>

<div style="display: flex; flex-direction: column; gap: 2rem;">

  <a href="{{ url_for('db_views.admin_music_view_query') }}" class="dashboard-card" style="text-decoration: none; padding: 2.5rem; display: flex; align-items: center; justify-content: space-between; margin-bottom: 0; transition: all 0.3s ease;">
    <div style="display: flex; gap: 2rem; align-items: center;">
      <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #e0e7ff, #c7d2fe); border-radius: 20px; display: flex; align-items: center; justify-content: center; color: #4338ca; font-size: 2.5rem; box-shadow: 0 10px 20px rgba(67, 56, 202, 0.15);">
        <i class="ri-disc-line"></i>
      </div>
      <div>
        <h2 style="margin: 0 0 0.8rem 0; color: #1e293b; font-size: 1.5rem; font-weight: 700;">全平台音乐库</h2>
        <p style="margin: 0; color: #64748b; font-size: 1.05rem; line-height: 1.5;">
          查看全站上传的所有音乐资源及审核状态。<br>
          <span style="font-size: 0.9rem; opacity: 0.8; margin-top: 0.4rem; display: inline-block;">
            <i class="ri-database-2-line"></i> Source View: <code>v_music_full_info</code>
          </span>
        </p>
      </div>
    </div>
    <div style="width: 50px; height: 50px; border-radius: 50%; background: rgba(255,255,255,0.5); display: flex; align-items: center; justify-content: center; color: #94a3b8; transition: all 0.2s;">
      <i class="ri-arrow-right-line" style="font-size: 1.5rem;"></i>
    </div>
  </a>

  <a href="{{ url_for('db_views.admin_room_view_query') }}" class="dashboard-card" style="text-decoration: none; padding: 2.5rem; display: flex; align-items: center; justify-content: space-between; margin-bottom: 0; transition: all 0.3s ease;">
    <div style="display: flex; gap: 2rem; align-items: center;">
      <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #fce7f3, #fbcfe8); border-radius: 20px; display: flex; align-items: center; justify-content: center; color: #be185d; font-size: 2.5rem; box-shadow: 0 10px 20px rgba(190, 24, 93, 0.15);">
        <i class="ri-bar-chart-grouped-line"></i>
      </div>
      <div>
        <h2 style="margin: 0 0 0.8rem 0; color: #1e293b; font-size: 1.5rem; font-weight: 700;">房间活跃度监控</h2>
        <p style="margin: 0; color: #64748b; font-size: 1.05rem; line-height: 1.5;">
          实时监控各房间在线人数聚合统计。<br>
          <span style="font-size: 0.9rem; opacity: 0.8; margin-top: 0.4rem; display: inline-block;">
            <i class="ri-database-2-line"></i> Source View: <code>v_room_stats</code>
          </span>
        </p>
      </div>
    </div>
    <div style="width: 50px; height: 50px; border-radius: 50%; background: rgba(255,255,255,0.5); display: flex; align-items: center; justify-content: center; color: #94a3b8; transition: all 0.2s;">
      <i class="ri-arrow-right-line" style="font-size: 1.5rem;"></i>
    </div>
  </a>

  <a href="{{ url_for('db_views.admin_record_view_query') }}" class="dashboard-card" style="text-decoration: none; padding: 2.5rem; display: flex; align-items: center; justify-content: space-between; margin-bottom: 0; transition: all 0.3s ease;">
    <div style="display: flex; gap: 2rem; align-items: center;">
      <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #dcfce7, #bbf7d0); border-radius: 20px; display: flex; align-items: center; justify-content: center; color: #15803d; font-size: 2.5rem; box-shadow: 0 10px 20px rgba(21, 128, 61, 0.15);">
        <i class="ri-headphone-line"></i>
      </div>
      <div>
        <h2 style="margin: 0 0 0.8rem 0; color: #1e293b; font-size: 1.5rem; font-weight: 700;">听歌行为流水</h2>
        <p style="margin: 0; color: #64748b; font-size: 1.05rem; line-height: 1.5;">
          追踪全站用户的播放记录与行为历史。<br>
          <span style="font-size: 0.9rem; opacity: 0.8; margin-top: 0.4rem; display: inline-block;">
            <i class="ri-table-line"></i> Source Table: <code>listen_record</code>
          </span>
        </p>
      </div>
    </div>
    <div style="width: 50px; height: 50px; border-radius: 50%; background: rgba(255,255,255,0.5); display: flex; align-items: center; justify-content: center; color: #94a3b8; transition: all 0.2s;">
      <i class="ri-arrow-right-line" style="font-size: 1.5rem;"></i>
    </div>
  </a>

  <div class="dashboard-card" style="padding: 2.5rem; display: flex; align-items: center; justify-content: space-between; margin-bottom: 0; opacity: 0.6; cursor: not-allowed; background: rgba(255,255,255,0.3) !important; border: 1px dashed rgba(203, 213, 225, 0.8) !important;">
    <div style="display: flex; gap: 2rem; align-items: center;">
      <div style="width: 80px; height: 80px; background: #f1f5f9; border-radius: 20px; display: flex; align-items: center; justify-content: center; color: #94a3b8; font-size: 2.5rem;">
        <i class="ri-terminal-window-line"></i>
      </div>
      <div>
        <h2 style="margin: 0 0 0.8rem 0; color: #94a3b8; font-size: 1.5rem; font-weight: 700;">系统日志分析</h2>
        <p style="margin: 0; color: #cbd5e1; font-size: 1.05rem;">
          高级日志挖掘与异常检测模块 (功能开发中...)
        </p>
      </div>
    </div>
  </div>

</div>

<style>
  /* 增加悬停时的箭头动效 */
  .dashboard-card:hover .ri-arrow-right-line {
    color: #6366f1;
    transform: translateX(5px);
  }
  .dashboard-card:hover h2 {
    color: #6366f1;
  }
</style>
{% endblock %}